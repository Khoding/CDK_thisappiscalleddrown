{% load static %}

<!DOCTYPE html>
<html lang="fr" class="h-100">
<head>
    <!-- Metadonnées de base -->
    <meta charset="UTF-8"/>
    <meta name="application-name" content="Koolapic"/>
    <meta name="description" content="{{ description }}"/>

    <!-- Metadonnées OpenGraph -->
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="{{ description }}"/>
    <meta property="og:description" content="{{ description }}"/>
    <meta property="og:twitter" content="{{ description }}"/>
    <!-- Metadonnées Twitter -->
    <meta property="twitter:title" content="{{ description }}"/>
    <meta property="twitter:description" content="{{ description }}"/>

    <!-- Titre de la page -->
    <title>{{ title }}</title>

    <!-- Configuration des tiles sur Windows (ne marche actuellement pas) -->
    <meta name="msapplication-config" content="{% static 'koolapic/xml/tile.xml' %}"/>
    <meta name="viewport" content="width=device-width, initial-scale=1 shrink-to-fit=no"/>
    <meta name="theme-color" content="#6358EB"/>

    <!-- JQuery Slim -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"></script>

    <!-- Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
            integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
            crossorigin="anonymous"></script>

    <!-- Tippy.js -->
    <script src="https://unpkg.com/tippy.js@6/dist/tippy-bundle.umd.js"></script>

    <!-- JavaScript de Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
            integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
            crossorigin="anonymous"></script>

    <!-- JavaScript Custom -->
    <script src="{% static 'koolapic/js/main.js' %}" crossorigin="anonymous"></script>
    <script src="{% static 'koolapic/js/password_visibility.js' %}" crossorigin="anonymous"></script>
    <script src="{% static 'koolapic/js/popovers.js' %}" crossorigin="anonymous"></script>

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/png" href="{% static 'koolapic/favicon.ico' %}"/>
    <!-- Polices d'écriture -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&family=Noto+Sans+JP:wght@700&family=Roboto&family=Overpass+Mono:wght@300;400;600;700&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">
    <!-- CSS custom -->
    <link href="{% static "koolapic/css/main.css" %}" rel="stylesheet" type="text/css">

    <!-- Ajout d'infos supplémentaires dans le head en fonction de la page -->
    {% block head %} {% endblock head %}
</head>
<body class="d-flex flex-column h-100">
<header>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark mb-4">
        <a class="navbar-brand" href="{% url 'koolapic:home' %}">
            <img id="main-navbar-logo" src="{% static 'koolapic/images/logo.png' %}" alt="Logo de Koolapic">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="{% url 'koolapic:home' %}">Home</a>
                </li>
                {% if user.is_authenticated %}

                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'accounts:profile' slug=user.slug %}">Profil</a>
                    </li>
                {% endif %}
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'koolapic:add_activity' %}" tabindex="-1">Ajouter une activité</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'koolapic:add_group' %}" tabindex="-1">Ajouter un groupe</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'koolapic:activity_list' %}" tabindex="-1">Liste des activités</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'koolapic:group_list' %}" tabindex="-1">Liste des groupes</a>
                </li>
            </ul>
            {% if user.is_authenticated %}
                <a href="{% url 'accounts:profile' slug=user.slug %}">
                <img id="main-navbar-pp" src="{{ user.profile_pic.url }}" alt="Votre photo de profil">
            {% else %}
                <i id="main-navbar-nopp" class="fas fa-user-circle"></i>
            {% endif %}
            </a>
            {% if user.profile_pic %}
            {% else %}

            {% endif %}
        </div>
    </nav>
</header>
<main role="main" class="flex-shrink-0">
    <div class="container">
        {% block content %}
        {% endblock %}
    </div>
</main>
<footer class="footer mt-auto py-3">
    <div class="container text-md-center">
        <span class="text-muted">&#169; {{ current_year }} Koolapic - Tous droits réservés - </span>
        <a href="https://www.ceff.ch/industrie">ceff Industrie</a>
        <br>
        <a href="mailto:support@kooolapic.net">Signaler une erreur</a>
    </div>
</footer>
</body>
</html>